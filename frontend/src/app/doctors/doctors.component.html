<div class="main_container">
  <div class="table_container">
    <table mat-table [dataSource]="doctorInfo" class="mat-elevation-z8 demo-table">

      <ng-container matColumnDef="lastName">
        <th mat-header-cell *matHeaderCellDef>Nume</th>
        <td mat-cell *matCellDef="let element">
          <div *ngIf="editMode === false || element.DoctorID !== idToEdit">
            {{element.LastName}}
          </div>
          <mat-form-field appearance="fill" *ngIf="editMode === true && element.DoctorID === idToEdit">
            <mat-label> {{element.LastName}}</mat-label>
            <input matInput [(ngModel)]="element.LastName" />
          </mat-form-field>
        </td>
      </ng-container>

      <ng-container matColumnDef="firstName">
        <th mat-header-cell *matHeaderCellDef>Prenume</th>
        <td mat-cell *matCellDef="let element">
          <div *ngIf="editMode === false || element.DoctorID !== idToEdit">
            {{element.FirstName}}
          </div>
          <mat-form-field appearance="fill" *ngIf="editMode === true && element.DoctorID === idToEdit">
            <mat-label> {{element.FirstName}}</mat-label>
            <input matInput [(ngModel)]="element.FirstName" />
          </mat-form-field>
        </td>
      </ng-container>

      <ng-container matColumnDef="calification">
        <th mat-header-cell *matHeaderCellDef>Calificare</th>
        <td mat-cell *matCellDef="let element">
          <div *ngIf="editMode === false || element.DoctorID !== idToEdit">
            {{element.DoctorType}}
          </div>
          <mat-form-field appearance="fill" *ngIf="editMode === true && element.DoctorID === idToEdit">
            <mat-label> {{element.DoctorType}}</mat-label>
            <input matInput [(ngModel)]="element.DoctorType" />
          </mat-form-field>
        </td>
      </ng-container>

      <ng-container matColumnDef="specialization">
        <th mat-header-cell *matHeaderCellDef>Specializare</th>
        <td mat-cell *matCellDef="let element">
          <div *ngIf="editMode === false || element.DoctorID !== idToEdit">
            {{element.Name}}
          </div>
          <mat-form-field appearance="fill" *ngIf="editMode === true && element.DoctorID === idToEdit">
            <mat-label> {{element.Name}}</mat-label>
            <input matInput [(ngModel)]="element.Name" />
          </mat-form-field>
        </td>
      </ng-container>

      <ng-container matColumnDef="phoneNumber">
        <th mat-header-cell *matHeaderCellDef>Numar de telefon</th>
        <td mat-cell *matCellDef="let element">
          <div *ngIf="editMode === false || element.DoctorID !== idToEdit">
            {{element.PhoneNumber}}
          </div>
          <mat-form-field appearance="fill" *ngIf="editMode === true && element.DoctorID === idToEdit">
            <mat-label> {{element.PhoneNumber}}</mat-label>
            <input matInput [(ngModel)]="element.PhoneNumber" />
          </mat-form-field>
        </td>
      </ng-container>

      <ng-container matColumnDef="email">
        <th mat-header-cell *matHeaderCellDef>Email</th>
        <td mat-cell *matCellDef="let element">
          <div *ngIf="editMode === false || element.DoctorID !== idToEdit">
            {{element.Email}}
          </div>
          <mat-form-field appearance="fill" *ngIf="editMode === true && element.DoctorID === idToEdit">
            <mat-label> {{element.Email}}</mat-label>
            <input matInput [(ngModel)]="element.Email" />
          </mat-form-field>
        </td>
      </ng-container>

      <ng-container matColumnDef="button">
        <th mat-header-cell *matHeaderCellDef></th>
        <td mat-cell *matCellDef="let element">
          <button mat-raised-button (click)="deleteDoctor(element.DoctorID)" class="delete_button">Sterge</button>
          <button mat-raised-button *ngIf="editMode === false || element.DoctorID !== idToEdit"
            (click)="editDoctor(element.DoctorID)" class="edit_button">Editeaza</button>
          <button mat-raised-button *ngIf="editMode === true && element.DoctorID === idToEdit"
            (click)="saveNewDoctor(element)" class="edit_button">Salveaza</button>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
  </div>

  <button mat-raised-button (click)="addDoctor()" class="add_button">Adauga</button>
</div>
